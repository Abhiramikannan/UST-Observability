{
    "title": "Abhi- Crypto wallet Dashboard level 2 Copy",
    "description": "",
    "inputs": {
        "input_1aDuGLHX": {
            "options": {
                "token": "wallet_id"
            },
            "title": "wallet_id",
            "type": "input.text"
        },
        "input_EzaRNIgS": {
            "options": {
                "defaultValue": "-24h@h,now",
                "token": "time"
            },
            "title": "time",
            "type": "input.timerange"
        }
    },
    "defaults": {
        "dataSources": {
            "ds.search": {
                "options": {
                    "queryParameters": {}
                }
            }
        },
        "visualizations": {
            "global": {
                "showProgressBar": true
            }
        }
    },
    "visualizations": {
        "viz_79gOt0P8": {
            "dataSources": {
                "primary": "ds_o7rsXs19"
            },
            "eventHandlers": [
                {
                    "options": {
                        "app": "search",
                        "dashboard": "abhi-level3_crypto",
                        "newTab": true,
                        "tokens": [
                            {
                                "token": "form.wallet_id",
                                "value": "click.value"
                            }
                        ]
                    },
                    "type": "drilldown.linkToDashboard"
                }
            ],
            "options": {
                "dataValuesDisplay": "off",
                "legendDisplay": "right",
                "legendTruncation": "ellipsisMiddle",
                "showIndependentYRanges": false,
                "showRoundedY2AxisLabels": false,
                "showSplitSeries": false,
                "showY2MajorGridLines": true,
                "stackMode": "auto",
                "xAxisTitleVisibility": "show",
                "y2AxisAbbreviation": "auto",
                "y2AxisTitleVisibility": "show",
                "yAxisAbbreviation": "auto",
                "yAxisScale": "linear",
                "yAxisTitleVisibility": "show"
            },
            "showProgressBar": true,
            "title": "Number of Transfers per Wallet",
            "type": "splunk.bar"
        },
        "viz_EjiKLD0c": {
            "dataSources": {
                "primary": "ds_0iZGzWpj"
            },
            "eventHandlers": [
                {
                    "options": {
                        "app": "search",
                        "dashboard": "abhi-level3_crypto",
                        "newTab": true,
                        "tokens": [
                            {
                                "token": "form.wallet_id",
                                "value": "click.value"
                            }
                        ]
                    },
                    "type": "drilldown.linkToDashboard"
                }
            ],
            "options": {
                "dataValuesDisplay": "off",
                "legendDisplay": "right",
                "legendTruncation": "ellipsisMiddle",
                "showIndependentYRanges": false,
                "showOverlayY2Axis": false,
                "showRoundedY2AxisLabels": false,
                "showSplitSeries": false,
                "showY2MajorGridLines": true,
                "stackMode": "auto",
                "xAxisLabelRotation": 0,
                "xAxisTitleVisibility": "show",
                "y2AxisAbbreviation": "auto",
                "y2AxisScale": "inherit",
                "y2AxisTitleVisibility": "show",
                "yAxisAbbreviation": "auto",
                "yAxisScale": "linear",
                "yAxisTitleVisibility": "show"
            },
            "showProgressBar": true,
            "title": "Number of Withdrawals per Wallet",
            "type": "splunk.column"
        },
        "viz_IG8OgRz6": {
            "dataSources": {
                "primary": "ds_bUOT21UQ"
            },
            "eventHandlers": [
                {
                    "options": {
                        "app": "search",
                        "dashboard": "abhi-level3_crypto",
                        "newTab": true,
                        "tokens": [
                            {
                                "token": "form.wallet_id",
                                "value": "click.value"
                            }
                        ]
                    },
                    "type": "drilldown.linkToDashboard"
                }
            ],
            "options": {
                "legendTruncation": "ellipsisMiddle",
                "showRoundedY2AxisLabels": false,
                "showY2MajorGridLines": true,
                "y2AxisAbbreviation": "off",
                "yAxisAbbreviation": "off"
            },
            "title": "Number of transactions per wallet",
            "type": "splunk.column"
        },
        "viz_OJc1xuaA": {
            "options": {
                "markdown": "# CRYPTO WALLET DASHBOARD LEVEL 2"
            },
            "type": "splunk.markdown"
        },
        "viz_co5kgUdI": {
            "dataSources": {
                "primary": "ds_EkUYHDGD"
            },
            "options": {
                "drilldown": "none",
                "showInternalFields": false
            },
            "showProgressBar": true,
            "type": "splunk.table"
        },
        "viz_mJGDqGNZ": {
            "dataSources": {
                "primary": "ds_z47sNryI"
            },
            "eventHandlers": [
                {
                    "options": {
                        "app": "search",
                        "dashboard": "abhi-level3_crypto",
                        "newTab": true,
                        "tokens": [
                            {
                                "token": "form.wallet_id",
                                "value": "click.value"
                            }
                        ]
                    },
                    "type": "drilldown.linkToDashboard"
                }
            ],
            "options": {
                "dataValuesDisplay": "off",
                "legendDisplay": "right",
                "legendTruncation": "ellipsisMiddle",
                "showIndependentYRanges": false,
                "showRoundedY2AxisLabels": false,
                "showSplitSeries": false,
                "showY2MajorGridLines": true,
                "stackMode": "auto",
                "xAxisTitleVisibility": "show",
                "y2AxisAbbreviation": "auto",
                "y2AxisTitleVisibility": "show",
                "yAxisAbbreviation": "auto",
                "yAxisScale": "linear",
                "yAxisTitleVisibility": "show"
            },
            "showProgressBar": true,
            "title": "Number of Deposits per Wallet",
            "type": "splunk.bar"
        }
    },
    "dataSources": {
        "ds_0iZGzWpj": {
            "name": "Number of Withdrawals per Wallet - Column chart search",
            "options": {
                "query": "index=\"otel\" host=cryptowallet-*\n| regex _raw=\"Withdrew\"\n| rex \"wallet\\s(?<wallet_id>[a-f0-9\\-]{36})\"\n| stats count as withdrawals by wallet_id\n| sort -withdrawals",
                "queryParameters": {
                    "earliest": "-7d@w0",
                    "latest": "@w0",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_EkUYHDGD": {
            "name": "Table search",
            "options": {
                "query": "index=otel host=cryptowallet-*\n| eval category=case(\n    match(_raw,\"Created wallet\"),\"wallets_created\",\n    match(_raw,\"Deleted wallet\"),\"wallets_deleted\",\n    match(_raw,\"Deposited\"),\"deposits\",\n    match(_raw,\"Withdrew\"),\"withdrawals\",\n    match(_raw,\"Transferred\"),\"transfers\",\n    like(_raw,\"%not found%\"),\"errors\",\n    true(),\"events\")\n| eval selected=\"$wallet_id$\"\n| where isnull(selected) \n    OR selected=\"all\" \n    OR (selected=\"transactions\" AND category IN (\"deposits\",\"withdrawals\",\"transfers\")) \n    OR category=selected\n| rex field=_raw \"wallet\\s(?<wallet_id>[a-f0-9\\-]{36})\"\n| rex field=_raw \"username\\s(?<username>\\w+)\"\n| rex field=_raw \"location\\s(?<location>[^,]+),\\s+latitude\\s(?<latitude>[-\\d\\.]+),\\s+longitude\\s(?<longitude>[-\\d\\.]+)\"\n| table _time category wallet_id username location latitude longitude\n| sort -_time",
                "queryParameters": {
                    "earliest": "-7d@w0",
                    "latest": "@w0"
                }
            },
            "type": "ds.search"
        },
        "ds_bUOT21UQ": {
            "name": "Number of transactions per wallet - Column chart search",
            "options": {
                "query": "index=\"otel\" \"wallet\"\n| eval is_transaction=if(match(_raw,\"Deposited\") OR match(_raw,\"Withdrew\") OR match(_raw,\"Transferred\"), 1, 0)\n| where is_transaction=1\n| rex field=_raw max_match=2 \"wallet\\s(?<wallet_id>[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\"\n| mvexpand wallet_id\n| stats count as transactions by wallet_id\n| sort -transactions",
                "queryParameters": {
                    "earliest": "-7d@w0",
                    "latest": "@w0",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_o7rsXs19": {
            "name": "Number of Transfers per Wallet - Bar chart search",
            "options": {
                "query": "index=\"otel\" host=cryptowallet-*\n| where like(_raw, \"Transferred%\")\n| rex \"from wallet\\s(?<wallet_from>[a-f0-9\\-]{36})\"\n| rex \"to wallet\\s(?<wallet_to>[a-f0-9\\-]{36})\"\n| eval wallet_id=mvappend(wallet_from, wallet_to)\n| mvexpand wallet_id\n| stats count as transfers by wallet_id\n| sort -transfers",
                "queryParameters": {
                    "earliest": "-7d@w0",
                    "latest": "@w0",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_z47sNryI": {
            "name": "Number of Deposits per Wallet - Bar chart search",
            "options": {
                "query": "index=\"otel\" host=cryptowallet-*\n| regex _raw=\"Deposited\"\n| rex \"wallet\\s(?<wallet_id>[a-f0-9\\-]{36})\"\n| stats count as deposits by wallet_id\n| sort -deposits",
                "queryParameters": {
                    "earliest": "-7d@w0",
                    "latest": "@w0",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        }
    },
    "layout": {
        "globalInputs": [
            "input_1aDuGLHX",
            "input_EzaRNIgS"
        ],
        "layoutDefinitions": {
            "layout_1": {
                "options": {
                    "height": 750,
                    "width": 1440
                },
                "structure": [
                    {
                        "item": "viz_OJc1xuaA",
                        "position": {
                            "h": 250,
                            "w": 1440,
                            "x": 0,
                            "y": 0
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_mJGDqGNZ",
                        "position": {
                            "h": 250,
                            "w": 360,
                            "x": 0,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_EjiKLD0c",
                        "position": {
                            "h": 250,
                            "w": 360,
                            "x": 360,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_79gOt0P8",
                        "position": {
                            "h": 250,
                            "w": 360,
                            "x": 720,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_IG8OgRz6",
                        "position": {
                            "h": 250,
                            "w": 360,
                            "x": 1080,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_co5kgUdI",
                        "position": {
                            "h": 250,
                            "w": 1440,
                            "x": 0,
                            "y": 500
                        },
                        "type": "block"
                    }
                ],
                "type": "grid"
            }
        },
        "options": {
            "submitButton": false
        },
        "tabs": {
            "items": [
                {
                    "label": "New tab",
                    "layoutId": "layout_1"
                }
            ]
        }
    },
    "applicationProperties": {
        "hideEdit": false,
        "hideExport": false
    }
}
