{
  "name": "Otel Demo dashboard - level 1",
  "description": null,
  "permissions": "PUBLIC_READ_WRITE",
  "pages": [
    {
      "guid": "NzI5MTE5M3xWSVp8REFTSEJPQVJEfDQ0ODQwNjk5",
      "name": "SLO page",
      "description": null,
      "widgets": [
        {
          "id": "498539853",
          "title": "Error SLO %",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT percentage(count(*), WHERE http.status_code >= 500) AS 'Error SLO (%)'\r\nWHERE service.name IN ({{service}})\r\nFACET service.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholdsWithSeriesOverrides": {
              "thresholds": [
                {
                  "from": 0,
                  "severity": "success",
                  "to": 1
                },
                {
                  "from": 1,
                  "severity": "warning",
                  "to": 5
                },
                {
                  "from": 5,
                  "severity": "critical",
                  "to": 100
                }
              ]
            }
          }
        },
        {
          "id": "498541569",
          "title": "Success Rate / Error SLI compliance overtime",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "markers": {
              "displayedTypes": {
                "criticalViolations": false,
                "deployments": true,
                "relatedDeployments": true,
                "warningViolations": false
              }
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT \r\n  100 * filter(count(*), WHERE error IS NULL OR error = false) / count(*) AS 'Success Rate (%)'\r\nWHERE service.name IN ({{service}})\r\nTIMESERIES AUTO\r\nFACET service.name\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": {
              "isLabelVisible": true
            },
            "yAxisLeft": {
              "zero": true
            },
            "yAxisRight": {
              "zero": true
            }
          }
        },
        {
          "id": "498541851",
          "title": "Latency SLO",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT percentage(count(*), WHERE duration.ms <= 500) AS 'Latency SLO (%)'\r\nWHERE service.name IN ({{service}})\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "id": "498542493",
          "title": "Latency SLI compliance over time",
          "layout": {
            "column": 7,
            "row": 4,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "markers": {
              "displayedTypes": {
                "criticalViolations": false,
                "deployments": true,
                "relatedDeployments": true,
                "warningViolations": false
              }
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT 100 * filter(count(*), WHERE duration.ms <= 500) / count(*) AS 'Latency SLI (%)'\r\nWHERE service.name IN ({{service}})\r\nTIMESERIES AUTO\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": {
              "isLabelVisible": true
            },
            "yAxisLeft": {
              "zero": true
            },
            "yAxisRight": {
              "zero": true
            }
          }
        }
      ]
    },
    {
      "guid": "NzI5MTE5M3xWSVp8REFTSEJPQVJEfDQ0ODQ2NzM1",
      "name": "Key Metrics",
      "description": null,
      "widgets": [
        {
          "id": "498546277",
          "title": "Error count per service",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "markers": {
              "displayedTypes": {
                "criticalViolations": false,
                "deployments": true,
                "relatedDeployments": true,
                "warningViolations": false
              }
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT count(*) AS 'Error Count'\r\nWHERE http.status_code >= 500 AND service.name IN ({{service}})\r\nFACET service.name\r\nTIMESERIES AUTO\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": {
              "isLabelVisible": true
            },
            "yAxisLeft": {
              "zero": true
            },
            "yAxisRight": {
              "zero": true
            }
          }
        },
        {
          "id": "498546310",
          "title": "Error rate per service",
          "layout": {
            "column": 5,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "markers": {
              "displayedTypes": {
                "criticalViolations": false,
                "deployments": true,
                "relatedDeployments": true,
                "warningViolations": false
              }
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT \r\n  100 * filter(count(*), WHERE http.status_code >= 500) / count(*) AS 'Error Rate (%)'\r\nWHERE service.name IN ({{service}})\r\nTIMESERIES AUTO\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": {
              "isLabelVisible": true
            },
            "yAxisLeft": {
              "zero": true
            },
            "yAxisRight": {
              "zero": true
            }
          }
        },
        {
          "id": "498546344",
          "title": "Error per trace",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT \r\n  filter(count(*), WHERE http.status_code >= 500) AS 'Error Spans',\r\n  count(*) AS 'Total Spans',\r\n  100 * filter(count(*), WHERE http.status_code >= 500) / count(*) AS 'Error Rate (%)'\r\nWHERE service.name IN ({{service}})\r\nFACET trace.id\r\nLIMIT 100\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "id": "498546348",
          "title": "Trace count per service",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT uniqueCount(trace.id) AS 'Trace Count'\r\nWHERE service.name IN ({{service}})\r\nFACET service.name\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "id": "498546388",
          "title": "Duration in ms Per Service",
          "layout": {
            "column": 5,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT average(duration.ms) AS 'Avg Duration (ms)'\r\nWHERE service.name IN ({{service}})\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "id": "498546416",
          "title": "Duration Per Trace (ms) ",
          "layout": {
            "column": 9,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": [],
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [
                  7291193
                ],
                "query": "FROM Span\r\nSELECT average(duration.ms) AS 'Avg Duration (ms)'\r\nWHERE service.name IN ({{service}})\r\nFACET trace.id\r\nLIMIT 100\r\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    }
  ],
  "variables": [
    {
      "name": "service",
      "items": null,
      "defaultValues": [
        {
          "value": {
            "string": "frontend"
          }
        }
      ],
      "nrqlQuery": {
        "accountIds": [
          7291193
        ],
        "query": "FROM Span\nSELECT uniques(service.name)\nWHERE service.name IS NOT NULL\n"
      },
      "options": {
        "ignoreTimeRange": false,
        "excluded": false
      },
      "title": "Service",
      "type": "NRQL",
      "isMultiSelection": false,
      "replacementStrategy": "STRING"
    }
  ]
}
