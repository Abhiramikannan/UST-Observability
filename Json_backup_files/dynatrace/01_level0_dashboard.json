{"version":20,"variables":[],"tiles":{"1":{"title":"Application Error SLO","type":"slo","input":"vu9U3hXa3q0AAAABAClidWlsdGluOmludGVybmFsLnNlcnZpY2UubGV2ZWwub2JqZWN0aXZlcwAGdGVuYW50AAZ0ZW5hbnQAJDZkYzZlODE3LTc2OTYtMzcxMy04MmM5LTZjMWM5YzhiYTAwY77vVN4V2t6t","visualizationSettings":{"columns":["status","errorBudget","target"],"options":{"showLabels":true,"colorizeBackground":false}}},"2":{"title":"Application Latency SLO","type":"slo","input":"vu9U3hXa3q0AAAABAClidWlsdGluOmludGVybmFsLnNlcnZpY2UubGV2ZWwub2JqZWN0aXZlcwAGdGVuYW50AAZ0ZW5hbnQAJDU4NjM3MGFlLTUzOGEtM2VmNi05NTQ5LWQ1OGFiZjU3NDAxZb7vVN4V2t6t","visualizationSettings":{"columns":["status","errorBudget","target"],"options":{"showLabels":true,"colorizeBackground":false}}},"5":{"title":"Service req count","type":"data","query":"timeseries { count = sum(dt.service.request.count, scalar: true), count.trend_line = sum(dt.service.request.count) }","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","recordField":"count","colorThresholdTarget":"background","sparklineSettings":{"variant":"area","record":"count.trend_line","showTicks":true},"trend":{"isVisible":true}},"autoSelectVisualization":false,"thresholds":[{"id":"0","title":"","field":"count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"unitsOverrides":[{"identifier":"count","unitCategory":"unspecified","baseUnit":"count","displayUnit":"","decimals":0,"suffix":"","delimiter":false,"added":0,"id":"count"}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"7":{"title":"service failure count","type":"data","query":"timeseries { failure_count = sum(dt.service.request.failure_count, scalar: true), failure_count.trend_line = sum(dt.service.request.failure_count) }","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","recordField":"failure_count","colorThresholdTarget":"background","sparklineSettings":{"variant":"area","record":"failure_count.trend_line","showTicks":true},"trend":{"isVisible":true}},"autoSelectVisualization":false,"thresholds":[{"id":"0","title":"","field":"failure_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"8":{"title":"App Error Rate","type":"data","query":"timeseries {\n  failedRequests = sum(dt.service.request.failure_count, default: 0),\n  totalRequests = sum(dt.service.request.count, default: 0)\n}\n| fieldsAdd errorRate = arrayAvg(failedRequests) / arrayAvg(totalRequests) * 100\n| fields timeframe, interval, errorRate","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"9":{"title":"error rate split by service","type":"data","query":"timeseries {\n  failedRequests = sum(dt.service.request.failure_count, default: 0),\n  totalRequests = sum(dt.service.request.count, default: 0)\n},\nby: { dt.entity.service }\n| fieldsAdd errorRate = arrayAvg(failedRequests) / arrayAvg(totalRequests) * 100\n| fields timeframe, interval, entityName(dt.entity.service), errorRate","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"table":{"hideColumnsForLargeResults":true,"sortBy":[{"columnId":"[\"dt.entity.service.name\"]","direction":"ascending"}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"10":{"title":"Response time","type":"data","query":"timeseries { response_time = percentile(dt.service.request.response_time, 50, scalar: true), response_time.trend_line = percentile(dt.service.request.response_time, 50) }","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","recordField":"response_time","colorThresholdTarget":"background","sparklineSettings":{"variant":"area","record":"response_time.trend_line","showTicks":true},"trend":{"isVisible":true}},"autoSelectVisualization":false,"thresholds":[{"id":"0","title":"","field":"response_time","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"11":{"title":"Overall Application P95 (95th Percentile)","type":"data","query":"timeseries { \n    p95_response_time = percentile(dt.service.request.response_time, 95, scalar: true), \n    p95_response_time_trend = percentile(dt.service.request.response_time, 95) \n}\n\n","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"13":{"title":"Detailed Overview","type":"data","query":"timeseries totalRequests = sum(dt.service.request.count),\n           failedRequests = sum(dt.service.request.failure_count),\n           p99ResponseTime = percentile(dt.service.request.response_time, 99), // Added P99\n           p95ResponseTime = percentile(dt.service.request.response_time, 95),\n           p50ResponseTime = percentile(dt.service.request.response_time, 50), // Added P50 (Average/Median)\n    by: { dt.entity.service }\n| fieldsAdd serviceName = entityName(dt.entity.service)\n| fieldsAdd errorRate = arrayAvg(failedRequests) / arrayAvg(totalRequests) * 100\n| fields serviceName,\n         errorRate,\n         totalRequests = arraySum(totalRequests), // Changed to arraySum for total requests in time frame\n         p50ResponseTime = arrayAvg(p50ResponseTime),\n         p95ResponseTime = arrayAvg(p95ResponseTime),\n         p99ResponseTime = arrayAvg(p99ResponseTime)\n| sort errorRate desc\n| limit 20","visualization":"table","visualizationSettings":{"autoSelectVisualization":true,"table":{"hideColumnsForLargeResults":true}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"15":{"title":"SLO Compliance(%)","type":"data","query":"timeseries \n  avgRespTime = avg(dt.service.request.response_time),\n  total = sum(dt.service.request.count),\n  failures = sum(dt.service.request.failure_count)\n, by: { dt.entity.service }\n\n| fieldsAdd \n    service_name = entityName(dt.entity.service),\n    total_sum = arraySum(total),\n    failures_sum = arraySum(failures),\n    avgRespTime_ms = arrayAvg(avgRespTime) / 1000\n\n| fieldsAdd \n    latency_slo = if(condition: isNull(avgRespTime_ms), then: null, else: if(condition: avgRespTime_ms > 500, then: 0, else: 100)),\n    error_slo = if(condition: total_sum > 0, then: 100 * ((total_sum - failures_sum) / total_sum), else: 0)\n\n| fields service_name, latency_slo, error_slo\n","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"table":{"hideColumnsForLargeResults":true}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"16":{"title":"Services Overview","type":"data","query":"timeseries \n  totalRequests = sum(dt.service.request.count),\n  failedRequests = sum(dt.service.request.failure_count),\n  p50ResponseTime = percentile(dt.service.request.response_time, 50)\n, by: { dt.entity.service }\n\n| fieldsAdd \n    serviceName = entityName(dt.entity.service),\n    avgResponseTime_ms = arrayAvg(p50ResponseTime) / 1000,\n    totalRequests_sum = arraySum(totalRequests),\n    failedRequests_avg = arrayAvg(failedRequests),\n    totalRequests_avg = arrayAvg(totalRequests)\n\n| fieldsAdd \n    req_per_sec = totalRequests_sum / 86400,  // Replace with your actual timeframe in seconds\n    error_pct = if(condition: totalRequests_avg > 0, then: failedRequests_avg / totalRequests_avg * 100, else: 0)\n\n| fields serviceName, avgResponseTime_ms, req_per_sec, error_pct\n| sort error_pct desc\n| limit 20\n","visualization":"table","visualizationSettings":{"autoSelectVisualization":true,"table":{"hideColumnsForLargeResults":true,"sortBy":[{"columnId":"[\"avgResponseTime_ms\"]","direction":"ascending"}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}},"17":{"title":"failed req","type":"data","query":"timeseries failure_count = sum(dt.service.request.failure_count, scalar: true)","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[{"id":"0","title":"","field":"failure_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"enabled":false,"davisVisualization":{"isAvailable":true}}}},"layouts":{"1":{"x":0,"y":0,"w":5,"h":3},"2":{"x":5,"y":0,"w":6,"h":3},"5":{"x":11,"y":0,"w":4,"h":3},"7":{"x":15,"y":0,"w":4,"h":3},"8":{"x":19,"y":0,"w":5,"h":3},"9":{"x":0,"y":3,"w":24,"h":6},"10":{"x":0,"y":9,"w":5,"h":5},"11":{"x":5,"y":9,"w":6,"h":5},"13":{"x":11,"y":9,"w":13,"h":5},"15":{"x":0,"y":14,"w":12,"h":7},"16":{"x":12,"y":14,"w":12,"h":7},"17":{"x":0,"y":21,"w":16,"h":4}},"importedWithCode":false,"settings":{}}
