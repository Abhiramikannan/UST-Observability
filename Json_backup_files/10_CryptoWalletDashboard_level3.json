{
    "title": "Abhi- crypto Wallet Dashboard level 3 Copy",
    "description": "",
    "inputs": {
        "input_OQBwH33h": {
            "context": {
                "formattedConfig": {
                    "number": {
                        "prefix": ""
                    }
                },
                "formattedStatics": "> statics | formatByType(formattedConfig)",
                "label": "> primary | seriesByName(\"wallet_id\") | renameSeries(\"label\") | formatByType(formattedConfig)",
                "statics": [],
                "value": "> primary | seriesByName(\"wallet_id\") | renameSeries(\"value\") | formatByType(formattedConfig)"
            },
            "dataSources": {
                "primary": "ds_ctVLzNCZ"
            },
            "options": {
                "defaultValue": "9d7053f6-1c54-41e8-bbeb-02a64205a816",
                "items": "> frame(label, value) | prepend(formattedStatics) | objects()",
                "token": "wallet_id"
            },
            "title": "wallet_id",
            "type": "input.dropdown"
        },
        "input_yYaGi8Bq": {
            "options": {
                "defaultValue": "-24h@h,now",
                "token": "time"
            },
            "title": "time",
            "type": "input.timerange"
        }
    },
    "defaults": {
        "dataSources": {
            "ds.search": {
                "options": {
                    "queryParameters": {}
                }
            }
        },
        "visualizations": {
            "global": {
                "showProgressBar": true
            }
        }
    },
    "visualizations": {
        "viz_4nf8rT0C": {
            "dataSources": {
                "primary": "ds_pv0K7uFa"
            },
            "eventHandlers": [
                {
                    "options": {
                        "tokens": [
                            {
                                "token": "details",
                                "value": "deposits"
                            }
                        ]
                    },
                    "type": "drilldown.setToken"
                }
            ],
            "options": {},
            "showProgressBar": true,
            "title": "Total Deposits",
            "type": "splunk.singlevalue"
        },
        "viz_4sGVkUQ7": {
            "dataSources": {
                "primary": "ds_pRtzzjej"
            },
            "options": {
                "count": 20,
                "dataOverlayMode": "none",
                "drilldown": "none",
                "showInternalFields": false,
                "showRowNumbers": false
            },
            "showProgressBar": true,
            "title": "Error Details",
            "type": "splunk.table"
        },
        "viz_GMnA0uCE": {
            "context": {
                "convertedColorRange": [
                    {
                        "from": 100,
                        "value": "#dc4e41"
                    },
                    {
                        "from": 70,
                        "to": 100,
                        "value": "#f1813f"
                    },
                    {
                        "from": 30,
                        "to": 70,
                        "value": "#f8be34"
                    },
                    {
                        "from": 0,
                        "to": 30,
                        "value": "#0877a6"
                    },
                    {
                        "to": 0,
                        "value": "#53a051"
                    }
                ]
            },
            "dataSources": {
                "primary": "ds_xMuTZGBC"
            },
            "eventHandlers": [
                {
                    "options": {
                        "tokens": [
                            {
                                "token": "details",
                                "value": "transfers"
                            }
                        ]
                    },
                    "type": "drilldown.setToken"
                }
            ],
            "options": {
                "majorColor": "#171d21"
            },
            "showProgressBar": true,
            "title": "Total transfers",
            "type": "splunk.singlevalue"
        },
        "viz_IfrANOSM": {
            "dataSources": {
                "primary": "ds_AUN0PjkH"
            },
            "eventHandlers": [
                {
                    "options": {
                        "tokens": [
                            {
                                "token": "details",
                                "value": "transactions"
                            }
                        ]
                    },
                    "type": "drilldown.setToken"
                }
            ],
            "options": {},
            "showProgressBar": true,
            "title": "Total Transactions",
            "type": "splunk.singlevalue"
        },
        "viz_Kx3vZOIJ": {
            "dataSources": {
                "primary": "ds_narRbT3j"
            },
            "eventHandlers": [
                {
                    "options": {
                        "tokens": [
                            {
                                "token": "details",
                                "value": "withdrawals"
                            }
                        ]
                    },
                    "type": "drilldown.setToken"
                }
            ],
            "options": {},
            "showProgressBar": true,
            "title": "Total Withdrawel",
            "type": "splunk.singlevalue"
        },
        "viz_PkPzVPDp": {
            "dataSources": {
                "primary": "ds_Ackz40kw"
            },
            "eventHandlers": [
                {
                    "options": {
                        "tokens": [
                            {
                                "token": "error_token",
                                "value": "errors"
                            }
                        ]
                    },
                    "type": "drilldown.setToken"
                }
            ],
            "options": {},
            "showProgressBar": true,
            "title": "Total errors",
            "type": "splunk.singlevalue"
        },
        "viz_bWY1TnXF": {
            "options": {
                "markdown": "# CRYPTO WALLET DASHBOARD LEVEL3"
            },
            "type": "splunk.markdown"
        },
        "viz_jRf5JE6D": {
            "dataSources": {
                "primary": "ds_zS7KQyBL"
            },
            "options": {
                "count": 20,
                "dataOverlayMode": "none",
                "drilldown": "none",
                "showInternalFields": false,
                "showRowNumbers": false
            },
            "showProgressBar": true,
            "title": "Transaction Details",
            "type": "splunk.table"
        }
    },
    "dataSources": {
        "ds_AUN0PjkH": {
            "name": "Total Transactions - Single value search",
            "options": {
                "query": "index=otel host=cryptowallet-*\n| rex \"wallet (?<wallet_id_extracted>[a-f0-9\\-]{36})\"\n| where wallet_id_extracted=\"$wallet_id$\" \n| eval is_transaction=if(like(_raw,\"Deposited%\") OR like(_raw,\"Withdrew%\") OR like(_raw,\"Transferred%\"), 1, 0)\n| stats sum(is_transaction) as total_transactions",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_Ackz40kw": {
            "name": "Total errors - Single value search",
            "options": {
                "query": "index=\"otel\" host=cryptowallet-* wallet\n| where like(_raw, \"%not found%\")\n| rex \"Wallet with ID (?<wallet_id_extracted>[a-f0-9\\-]{36})\"\n| where wallet_id_extracted=\"$wallet_id$\"  \n| stats count as total_errors",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_ctVLzNCZ": {
            "name": "wallet_id search",
            "options": {
                "query": "index=otel host=\"cryptowallet-*\" \"Created wallet\"\nearliest=$time.earliest$ latest=$time.latest$\n| rex field=_raw \"wallet (?<wallet_id>[a-f0-9\\-]{36})\"\n| stats count by wallet_id\n| fields wallet_id",
                "queryParameters": {
                    "earliest": "-7d@w0",
                    "latest": "@w0"
                }
            },
            "type": "ds.search"
        },
        "ds_narRbT3j": {
            "name": "Total Withdrawel - Single value search",
            "options": {
                "query": "index=otel host=cryptowallet-*\n| search \"Withdrew\"\n| rex \"wallet (?<wallet_id_extracted>[a-f0-9\\-]{36})\"\n| where wallet_id_extracted=\"$wallet_id$\" \n| stats count as total_withdrawals",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_pRtzzjej": {
            "name": "Error Details - Table search",
            "options": {
                "query": "index=otel \"wallet\"\n| eval category=case(\n    match(_raw,\"Wallet with ID.*not found\"),\"errors\"\n)\n| eval wallet_id_extracted=mvindex(split(replace(_raw,\"Wallet with ID \",\"\"),\" \"),0)\n| eval error_type=if(match(_raw,\"Wallet with ID.*not found\"),\"Wallet Not Found\",\"Other Error\")\n| where category=\"$error_token$\" AND (wallet_id_extracted=\"$wallet_id$\" OR \"$wallet_id$\"=\"\")\n| table _time wallet_id_extracted error_type _raw\n| sort -_time",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_pv0K7uFa": {
            "name": "Total Deposits - Single value search",
            "options": {
                "query": "index=otel \"wallet\"\n| search \"Deposited\"\n| rex \"wallet (?<wallet_id_extracted>[a-f0-9\\-]{36})\"\n| where wallet_id_extracted=\"$wallet_id$\"  \n| stats count as total_deposits",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_xMuTZGBC": {
            "name": "Total transfers - Single value search",
            "options": {
                "query": "index=otel host=cryptowallet-*\n| search \"Withdrew\"\n| rex \"wallet (?<wallet_id_extracted>[a-f0-9\\-]{36})\"\n| where wallet_id_extracted=\"$wallet_id$\" \n| stats count as total_withdrawals",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        },
        "ds_zS7KQyBL": {
            "name": "Transaction Details - Table search",
            "options": {
                "query": "index=otel \"wallet\"\n| rex \"wallet (?<wallet_id_extracted>[a-f0-9\\-]{36})\"\n| eval category=case(\n    match(_raw,\"Deposited\"),\"deposits\",\n    match(_raw,\"Withdrew\"),\"withdrawals\",\n    match(_raw,\"Transferred\"),\"transfers\"\n)\n| where (wallet_id_extracted=\"$wallet_id$\" OR \"$wallet_id$\"=\"\") \n  AND (\n        \"$details$\"=\"transactions\" \n        OR category=\"$details$\"\n      )\n| rex field=_raw \"(?i)(Deposited|Withdrew|Transferred) (?<amount>\\d+) (?<currency>\\w+)\"\n| rex field=_raw \"from wallet (?<from_wallet>[a-f0-9\\-]{36})\"\n| rex field=_raw \"to (?<to_currency_amount>\\d+ \\w+) in wallet (?<to_wallet>[a-f0-9\\-]{36})\"\n| rex field=_raw \"location (?<city>[\\w\\s]+), latitude (?<lat>[\\d\\.]+), longitude (?<lon>[\\d\\.]+)\"\n| table _time category wallet_id_extracted from_wallet to_wallet amount currency city lat lon",
                "queryParameters": {
                    "earliest": "$time.earliest$",
                    "latest": "$time.latest$",
                    "sampleRatio": 1
                }
            },
            "type": "ds.search"
        }
    },
    "layout": {
        "globalInputs": [
            "input_OQBwH33h",
            "input_yYaGi8Bq"
        ],
        "layoutDefinitions": {
            "layout_1": {
                "options": {
                    "height": 1000,
                    "width": 1440
                },
                "structure": [
                    {
                        "item": "viz_bWY1TnXF",
                        "position": {
                            "h": 250,
                            "w": 1440,
                            "x": 0,
                            "y": 0
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_4nf8rT0C",
                        "position": {
                            "h": 250,
                            "w": 288,
                            "x": 0,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_Kx3vZOIJ",
                        "position": {
                            "h": 250,
                            "w": 288,
                            "x": 288,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_GMnA0uCE",
                        "position": {
                            "h": 250,
                            "w": 288,
                            "x": 576,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_IfrANOSM",
                        "position": {
                            "h": 250,
                            "w": 288,
                            "x": 864,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_PkPzVPDp",
                        "position": {
                            "h": 250,
                            "w": 288,
                            "x": 1152,
                            "y": 250
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_jRf5JE6D",
                        "position": {
                            "h": 250,
                            "w": 1440,
                            "x": 0,
                            "y": 500
                        },
                        "type": "block"
                    },
                    {
                        "item": "viz_4sGVkUQ7",
                        "position": {
                            "h": 250,
                            "w": 1440,
                            "x": 0,
                            "y": 750
                        },
                        "type": "block"
                    }
                ],
                "type": "grid"
            }
        },
        "options": {
            "submitButton": false
        },
        "tabs": {
            "items": [
                {
                    "label": "New tab",
                    "layoutId": "layout_1"
                }
            ]
        }
    },
    "applicationProperties": {
        "hideEdit": false,
        "hideExport": false
    }
}
